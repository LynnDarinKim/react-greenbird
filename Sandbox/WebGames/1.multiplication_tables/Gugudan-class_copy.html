<html>
<head>
  <meta charset="UTF-8" />
  <title>구구단</title>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    class GuGuDan extends React.Component{
      state = {
        first: Math.ceil(Math.random() * 9),
        second: Math.ceil(Math.random() * 9),
        value:'',
        result: '',
      }
      
      onSubmit = (e) => {
        e.preventDefault()
        if(this.state.first * this.state.second === parseInt(this.state.value)) {
          this.setState((prevState) =>{
            return {
              first: Math.ceil(Math.random() * 9),
              second: Math.ceil(Math.random() * 9),
              value: '',
              result: '맞았어! 정답은 ' + prevState.value,
            }
          })
          this.input.focus()
        } else {
            this.setState({
              result: '땡이다 임마'
            })
            this.input.focus()
          } 
        }
        
        onChange = (e) => {
          this.setState({
            value: e.target.value
          })
        }

        input;
        
        render() {
          return (
          <>
          <div>{ this.state.first }  * { this.state.second } </div>
          <form onSubmit={ this.onSubmit } >
            <input ref={(c) => { this.input = c }} type="number" value={ this.state.value } onChange= { this.onChange }  />
            <button type="submit">button</button>
          </form>
          <div> { this.state.result } </div>
          </> 
          )
        }
        
      }    
    </script>
    <script type="text/babel">
      ReactDOM.render(<div><GuGuDan /></div>, document.querySelector('#root'));
    </script>
  </body>
  
  </html>